(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{599:function(n,t,e){"use strict";e.d(t,"a",(function(){return v})),e.d(t,"d",(function(){return $})),e.d(t,"b",(function(){return k})),e.d(t,"e",(function(){return f})),e.d(t,"f",(function(){return y})),e.d(t,"c",(function(){return j}));var c,o,r,d,_,l,m=e(91),h=e(58),v=Object(h.a)(c||(c=Object(m.a)(["\n  query($page: Int!, $per_page: Int!) {\n    bankAccounts(first: $per_page, page: $page) {\n      data {\n         id\n         account_number\n         initial_balance\n         balance\n         description\n         bank_id\n         branch\n         check_image_url\n         check_template_data\n         bank {\n          id\n          name\n         }\n      }\n    }   \n  }\n"]))),$=Object(h.a)(o||(o=Object(m.a)(["\n  query($id: ID!) {\n    bankAccount(id: $id) {\n      id\n      account_number\n      initial_balance\n      balance\n      description\n      bank_id\n      branch\n      check_image_url\n      check_template_data\n      total_payment\n      total_deposit\n      payments {\n        id\n        to\n        amount_in_words\n        transaction_date\n        bank_account_id\n        reason\n        project\n        payment_method\n        transaction_amount\n        voided\n        voided_date\n        voided_reason\n        payment_date\n        payment_pending\n        bankAccount {\n          id\n          account_number\n          check_image_url\n          check_template_data\n          bank {\n            id\n            name\n          }\n        }\n      }\n      deposits {\n        id\n        transaction_amount\n        transaction_date\n        bank_account_id\n        reference_no\n        check_type\n        currency\n        project\n        reason\n        bankAccount {\n          id\n          account_number\n          bank {\n            id\n            name\n          }\n        }\n      }\n      bank {\n        id\n        name\n      }\n    }\n  }\n"]))),k=Object(h.a)(r||(r=Object(m.a)(["\n  mutation($account_number: String!, $bank_id: ID!, $branch: String!, $initial_balance: Float!, $balance: Float!, $description: String, \n    $check_image: Upload) {\n    createBankAccount(input: {account_number: $account_number, bank_id: $bank_id branch: $branch, initial_balance: $initial_balance, balance: $balance,\n       description: $description, check_image: $check_image}) {\n      id\n      account_number\n    }\n  }\n"]))),f=Object(h.a)(d||(d=Object(m.a)(["\n  mutation($id: ID!, $account_number: String!, $bank_id: ID!, $branch: String!, $initial_balance: Float!, $balance: Float!, $description: String, \n  $check_image: Upload, $check_template_data: JSON) {\n    updateBankAccount(input: {id: $id, account_number: $account_number, bank_id: $bank_id branch: $branch, initial_balance: $initial_balance, \n      balance: $balance, description: $description, check_image: $check_image, check_template_data: $check_template_data}) {\n      id\n      account_number\n    }\n  }\n"]))),y=Object(h.a)(_||(_=Object(m.a)(["\n  mutation($id: ID!, $check_template_data: JSON) {\n    updateBankAccountTemplate(input: {id: $id, check_template_data: $check_template_data}) {\n      id\n      account_number\n    }\n  }\n"]))),j=Object(h.a)(l||(l=Object(m.a)(["\n  mutation($id: ID!) {\n    deleteBankAccount(id: $id) {\n        id\n        account_number\n    }   \n  }\n"])))},606:function(n,t,e){"use strict";e.d(t,"a",(function(){return y})),e.d(t,"f",(function(){return j})),e.d(t,"g",(function(){return O})),e.d(t,"d",(function(){return x})),e.d(t,"h",(function(){return S})),e.d(t,"e",(function(){return w})),e.d(t,"i",(function(){return P})),e.d(t,"c",(function(){return D})),e.d(t,"b",(function(){return I}));var c,o,r,d,_,l,m,h,v,$,k=e(91),f=e(58),y=Object(f.a)(c||(c=Object(k.a)(["\n  query($page: Int!, $per_page: Int!, $voided: Boolean, $payment_pending: Boolean, $approved: Boolean, $search: String, $bank_account_id: ID, $dates: JSON, $future: Boolean) {\n    payments(first: $per_page, page: $page, voided: $voided, pending: $payment_pending, search: $search, approved: $approved, bank_account_id: $bank_account_id, dates: $dates, future: $future) {\n      data {\n         id\n         to\n         amount_in_words\n         transaction_date\n         bank_account_id\n         reason\n         project\n         payment_method\n         transaction_amount\n         voided\n         voided_date\n         voided_reason\n         payment_date\n         payment_pending\n         checked_by_id\n         checked_at\n         checked\n         approved_by_id\n         approved_at\n         approved\n         invoice_number\n         cheque_number\n         bankAccount {\n          id\n          account_number\n          check_image_url\n          check_template_data\n          bank {\n            id\n            name\n          }\n        }\n      }\n      paginatorInfo {\n        count\n        currentPage\n        total\n        lastPage\n        perPage\n      }\n    }   \n  }\n"]))),j=Object(f.a)(o||(o=Object(k.a)(["\n  query($id: ID!) {\n    payment(id: $id) {\n      id\n      to\n      amount_in_words\n      transaction_date\n      bank_account_id\n      reason\n      project\n      payment_method\n      transaction_amount\n      voided\n      voided_date\n      voided_reason\n      checked_by_id\n      checked_at\n      checked\n      approved_by_id\n      approved_at\n      approved\n      payment_date\n      payment_pending\n      invoice_number\n      cheque_number\n      bankAccount {\n        id\n        account_number\n        check_image_url\n        check_template_data\n        bank {\n          id\n          name\n        }\n      }\n    }   \n  }\n"]))),O=Object(f.a)(r||(r=Object(k.a)(["\n  query {\n    paymentPersons {\n      to\n    }\n  }\n"]))),x=Object(f.a)(d||(d=Object(k.a)(["\n  mutation($bank_account_id: ID!, $to: String!, $amount_in_words: String!, $transaction_amount: Float!, $transaction_date: Date!, $project: String!, \n    $payment_method:String!, $to_bank_account_id: ID, $reason: String, $cheque_number: String) {\n    createPayment(input: {bank_account_id: $bank_account_id, to: $to, amount_in_words: $amount_in_words, transaction_date: $transaction_date, \n      transaction_amount: $transaction_amount, to_bank_account_id: $to_bank_account_id, reason: $reason, project: $project, \n      payment_method: $payment_method, cheque_number: $cheque_number}) {\n        id\n        to\n    }\n  }\n"]))),S=Object(f.a)(_||(_=Object(k.a)(["\n  mutation($id: ID!, $bank_account_id: ID!, $to: String!, $amount_in_words: String!, $transaction_amount: Float!, $transaction_date: Date!, \n    $project: String!, $payment_method:String!, $to_bank_account_id: ID, $reason: String, $cheque_number: String) {\n    updatePayment(input: {id: $id, bank_account_id: $bank_account_id, to: $to, amount_in_words: $amount_in_words, transaction_date: $transaction_date,\n      transaction_amount: $transaction_amount, to_bank_account_id: $to_bank_account_id, project: $project, reason: $reason, \n      payment_method: $payment_method, cheque_number: $cheque_number}) {\n        id\n        to\n    }\n  }\n"]))),w=Object(f.a)(l||(l=Object(k.a)(["\n  mutation($id: ID!) {\n    deletePayment(id: $id) {\n        id\n        to\n    }   \n  }\n"]))),P=Object(f.a)(m||(m=Object(k.a)(["\n  mutation($id: ID!, $voided_reason: String!) {\n    voidPayment(input: {id: $id, voided_reason: $voided_reason}) {\n        id\n        to\n    }   \n  }\n"]))),D=Object(f.a)(h||(h=Object(k.a)(["\n  mutation($id: ID!) {\n    checkPayment(id: $id) {\n        id\n        to\n    }   \n  }\n"]))),I=Object(f.a)(v||(v=Object(k.a)(["\n  mutation($id: ID!) {\n    approvePayment(id: $id) {\n        id\n        to\n    }   \n  }\n"])));Object(f.a)($||($=Object(k.a)(["\n  mutation {\n    exportPayments {\n        status\n    }   \n  }\n"])))},828:function(n,t,e){"use strict";e.r(t);var c=e(677),o=e(620),r=e(174),d=e(263),_=e(628),l=e(812),m=e(189),h=e(267),v=e(654),$=e(593),k=e(120),f=(e(41),e(274),e(12),e(13),e(11),e(4),e(15),e(9),e(16),e(1)),y=(e(68),e(34),e(36),e(606)),j=e(106),O=e(599);function x(object,n){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(object,n).enumerable}))),t.push.apply(t,e)}return t}function S(n){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(f.a)(n,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(source,t))}))}return n}var w={middleware:["authenticated"],data:function(){return{breadcrumbs:[{text:"Dashboard",disabled:!1,href:"/dashboard"},{text:"All Voided Payments",disabled:!0}],payments:{},payment:{},search:{name:"",concrete_type_id:null},pagination:{page:1,per_page:25},bankAccounts:[]}},apollo:{payments:{query:y.a,variables:function(){var n={};return this.search.search&&(n=S(S({},n),{search:"".concat(this.search.search)})),this.search.bank_account_id&&(n=S(S({},n),{bank_account_id:"".concat(this.search.bank_account_id)})),this.search.dates&&(n=S(S({},n),{dates:JSON.stringify(this.search.dates)})),S(S({},n),this.pagination)},fetchPolicy:"cache-and-network"},bankAccounts:{query:O.a,variables:function(){return{page:1,per_page:5e3}},fetchPolicy:"cache-and-network",update:function(data){var n,t;return null==data||null===(n=data.bankAccounts)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.map((function(n){var t;return n.label="".concat(null==n||null===(t=n.bank)||void 0===t?void 0:t.name," / ").concat(n.account_number),n.id=parseInt(n.id),n}))}}},methods:S(S({},Object(j.b)({successNotification:"successNotification",errorNotification:"errorNotification",infoNotification:"infoNotification"})),{},{exportPayment:function(){window.location="https://cash-managment-four.oddatech.com/payment-export"}}),created:function(){console.log(this.payments)}},P=e(79),component=Object(P.a)(w,(function(){var n=this,t=n._self._c;return t("div",{staticClass:"pa-5 grey lighten-3"},[t(o.a,{attrs:{payments:n.breadcrumbs},scopedSlots:n._u([{key:"divider",fn:function(){return[t(m.a,[n._v("mdi-chevron-double-right")])]},proxy:!0}])}),n._v(" "),t("div",{staticClass:"px-4 row ma-1"},[n._m(0),n._v(" "),t($.a),n._v(" "),t("div",{staticClass:"pr-2"},[t("button",{staticClass:"v-btn mt-2 v-btn--is-elevated v-btn--has-bg v-size--default black white--text lighten-5",attrs:{type:"button",icon:"mdi-home"},on:{click:n.exportPayment}},[t(m.a,{attrs:{left:"",dark:""}},[n._v(" mdi-plus-circle ")]),n._v("\n        Export\n      ")],1)])],1),n._v(" "),t("div",{staticClass:"px-5 py-3"},[t("div",{staticClass:"row"},[t(_.a,{attrs:{cols:"12",lg:"4"}},[t(k.a,{attrs:{"append-icon":"mdi-magnify",label:"Search by search, project description or phone number","single-line":"","hide-details":"",outlined:""},model:{value:n.search.search,callback:function(t){n.$set(n.search,"search",t)},expression:"search.search"}})],1),n._v(" "),t(_.a,{attrs:{cols:"12",md:"4"}},[t(c.a,{attrs:{items:n.bankAccounts,"item-value":"id","item-text":"label",label:"Select Bank Account",outlined:"",required:"",clearable:""},model:{value:n.search.bank_account_id,callback:function(t){n.$set(n.search,"bank_account_id",t)},expression:"search.bank_account_id"}})],1),n._v(" "),t(_.a,{attrs:{cols:"12",sm:"6",md:"4"}},[t(h.a,{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":n.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){n.date=t},"update:return-value":function(t){n.date=t}},scopedSlots:n._u([{key:"activator",fn:function(e){var c=e.on,o=e.attrs;return[t(k.a,n._g(n._b({attrs:{label:"Select Date","prepend-inner-icon":"mdi-calendar",readonly:"",outlined:""},model:{value:n.search.dates,callback:function(t){n.$set(n.search,"dates",t)},expression:"search.dates"}},"v-text-field",o,!1),c))]}}]),model:{value:n.menu,callback:function(t){n.menu=t},expression:"menu"}},[n._v(" "),t(l.a,{attrs:{range:"","no-title":"",scrollable:""},model:{value:n.search.dates,callback:function(t){n.$set(n.search,"dates",t)},expression:"search.dates"}},[t($.a),n._v(" "),t(r.a,{attrs:{text:"",color:"primary"},on:{click:function(t){n.menu=!1}}},[n._v(" Cancel ")]),n._v(" "),t(r.a,{attrs:{text:"",color:"primary"},on:{click:function(t){return n.$refs.menu.save(n.date)}}},[n._v("\n              OK\n            ")])],1)],1)],1)],1),n._v(" "),t(v.a,{scopedSlots:n._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-left"},[n._v("Bank Account")]),n._v(" "),t("th",{staticClass:"text-left"},[n._v("Transaction Amount")]),n._v(" "),t("th",{staticClass:"text-left"},[n._v("Payment Method")]),n._v(" "),t("th",{staticClass:"text-left"},[n._v("Paid To")]),n._v(" "),t("th",{staticClass:"text-left"},[n._v("Project")]),n._v(" "),t("th",{staticClass:"text-left"},[n._v("Transaction Date")]),n._v(" "),t("th",{staticClass:"text-left"},[n._v("Status")])])]),n._v(" "),t("tbody",n._l(n.payments.data,(function(e){return t("tr",{key:e.id},[t("td",[n._v(n._s(e.bankAccount.account_number))]),n._v(" "),t("td",[n._v(n._s(e.transaction_amount))]),n._v(" "),t("td",[n._v(n._s(e.payment_method))]),n._v(" "),t("td",[n._v(n._s(e.to))]),n._v(" "),t("td",[n._v(n._s(e.project))]),n._v(" "),t("td",[n._v(n._s(e.transaction_date))]),n._v(" "),t("td",[e.voided?t(d.a,{staticClass:"ma-2",attrs:{color:"grey lighten-3"}},[t(m.a,{attrs:{left:""}},[n._v("mdi-close")]),n._v(" VOIDED\n              ")],1):e.approved?t(d.a,{attrs:{color:"grey lighten-3 black--text"}},[t(m.a,{attrs:{left:""}},[n._v("mdi-check-all")]),n._v(" APPROVED\n              ")],1):e.checked?t(d.a,{attrs:{color:"grey lighten-3 black--text"}},[t(m.a,{attrs:{left:""}},[n._v("mdi-check")]),n._v(" CHECKED\n              ")],1):t(d.a,{staticClass:"ma-2",attrs:{color:"grey lighten-3"}},[t(m.a,{attrs:{left:""}},[n._v("mdi-dots-horizontal")]),n._v(" PENDING\n              ")],1)],1)])})),0)]},proxy:!0}])})],1)],1)}),[function(){var n=this,t=n._self._c;return t("div",[t("p",{staticClass:"ma-0 text-lg transition-swing text-h4"},[n._v("All Payments")]),n._v(" "),t("span",{staticClass:"grey--text text--darken-1"},[n._v("All Payments Are Shown Here.")])])}],!1,null,null,null);t.default=component.exports}}]);